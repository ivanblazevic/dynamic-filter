"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();!function t(e,n,o){function r(a,u){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!u&&l)return l(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var s=n[a]={exports:{}};e[a][0].call(s.exports,function(t){var n=e[a][1][t];return r(n||t)},s,s.exports,t,e,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,e,n){},{}],2:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){function e(){_classCallCheck(this,e);var t=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.last=function(){return t[t.length-1]},t.removeLastItem=function(){t.splice(-1,1)},t}return _inherits(e,Array),e}();n.default=o},{}],3:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var o=t("./ExtendedArray"),r=function(){function t(e){_classCallCheck(this,t),this.callback=e.callback,this.ref=e}return _createClass(t,[{key:"addValue",value:function(){this.canAddValue()&&this.values.push("")}},{key:"canAddValue",value:function(){return this.values&&this.values.last()&&!this.isText()}},{key:"onSelect",value:function(t){this.values=new o.default,this.option=t,this.values.push(""),this.ref.setApplyEnabled()}},{key:"checkOptionType",value:function(t){return!!this.option&&this.option.type==t}},{key:"isAutocomplete",value:function(){return this.checkOptionType("AUTOCOMPLETE")}},{key:"isOptions",value:function(){return this.checkOptionType("OPTIONS")}},{key:"isText",value:function(){return this.checkOptionType("TEXT")}}]),t}();n.default=r},{"./ExtendedArray":2}],4:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var o=t("./ExtendedArray"),r=t("./Filter"),i=function(t){function e(t,n){_classCallCheck(this,e);var o=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(o.options=t,o.config=n,o.getID=function(){return o.config.id||"dynamicFilter"},o.saveState=function(){var t=o.map(function(t){return{option:t.option,values:t.values}});localStorage.setItem(o.getID(),JSON.stringify(t))},o.callback=function(t){o.config&&(o.saveState&&o.saveState(),(t||o.config.autoApply)&&o.config.callback(o.getResult()))},o.setApplyEnabled=function(){o.applyButton=!0},o.setApplyDisabled=function(){o.applyButton=!1},o.isApplyEnabled=function(){return o.applyButton},o.add=function(){var t=o.last();t&&!t.option||(o.setApplyDisabled(),o.push(new r.default(o)))},o.getOptionByField=function(t,e){var n=t.filter(function(t){return t.field==e});if(0==n.length)throw"Cached option field value "+e+" not found in options array!";return n[0]},o.loadState=function(){var t=JSON.parse(localStorage.getItem(o.getID()));if(t){var e=o;t.forEach(function(t){if(t.values){e.add();var n=e.last(),o=e.getOptionByField(e.options,t.option.field);n.onSelect(o),t.values.forEach(function(t){n.addValue(),n.values[n.values.length-1]=t})}})}},o.removeLast=function(){o.removeLastItem(),o.callback(),0==o.length&&(o.applyButton=!1)},o.isFilterSelected=function(t){return o.some(function(e){return e.option&&e.option.field==t.field})},o.isValueSelected=function(t){return o.some(function(e){return e.values&&e.values.some&&e.values.some(function(e){return e==t})})},o.getResult=function(){var t=o;return o.map(function(e){var n={};if(!e.option)throw t.config.errorCallback&&t.config.errorCallback("Select option before getting result"),"Select option before getting result";return n[e.option.field]=e.values,n})},!t)throw"Options not passed to DynamicFilter constructor!";if(!n)throw"Callback not passed to DynamicFilter constructor!";return null==n.autoApply&&(n.autoApply=!0),o.config=n,o.config.saveState&&(o.loadState(),o.config.callback(o.getResult())),o}return _inherits(e,o.default),e}();n.Filters=i,window.DynamicFilter=i},{"./ExtendedArray":2,"./Filter":3}],5:[function(t,e,n){arguments[4][1][0].apply(n,arguments)},{dup:1}]},{},[1,2,3,4,5]);