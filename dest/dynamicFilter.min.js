"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}!function t(e,n,o){function r(l,a){if(!n[l]){if(!e[l]){var u="function"==typeof require&&require;if(!a&&u)return u(l,!0);if(i)return i(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var s=n[l]={exports:{}};e[l][0].call(s.exports,function(t){var n=e[l][1][t];return r(n||t)},s,s.exports,t,e,n,o)}return n[l].exports}for(var i="function"==typeof require&&require,l=0;l<o.length;l++)r(o[l]);return r}({1:[function(t,e,n){},{}],2:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){function e(){_classCallCheck(this,e);var t=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.last=function(){return t[t.length-1]},t.removeLastItem=function(){t.splice(-1,1)},t}return _inherits(e,Array),e}();n.default=o},{}],3:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var o=t("./ExtendedArray");n.default=function t(e){var n=this;_classCallCheck(this,t),this.addValue=function(){n.canAddValue()&&n.values.push("")},this.canAddValue=function(){return n.values&&n.values.last()&&!n.isText()},this.onSelect=function(t){n.values=new o.default,n.option=t,n.values.push(""),n.filters.setApplyEnabled()},this.isValueSelected=function(t){return n.values.some(function(e){return e==t})},this.checkOptionType=function(t){return!!n.option&&n.option.type==t},this.isAutocomplete=function(){return n.checkOptionType("AUTOCOMPLETE")},this.isOptions=function(){return n.checkOptionType("OPTIONS")},this.isText=function(){return n.checkOptionType("TEXT")},this.callback=e.callback,this.filters=e}},{"./ExtendedArray":2}],4:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var o=t("./ExtendedArray"),r=t("./Filter"),i=function(t){function e(t,n){_classCallCheck(this,e);var o=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(o.options=t,o.config=n,o.getID=function(){return o.config.id||"dynamicFilter"},o.save=function(){var t=o.map(function(t){return{field:t.option.field,values:t.values}});localStorage.setItem(o.getID(),JSON.stringify(t))},o.callback=function(t){console.log(o),console.log(t||o.config.autoApply),o.config&&(o.config.saveState&&o.save(),(t||o.config.autoApply)&&o.config.callback(o.getResult()))},o.setApplyEnabled=function(){o.applyButton=!0},o.setApplyDisabled=function(){o.applyButton=!1},o.isApplyEnabled=function(){return o.applyButton},o.add=function(){var t=o.last();t&&!t.option||(o.setApplyDisabled(),o.push(new r.default(o)))},o.getOptionByField=function(t,e){var n=t.filter(function(t){return t.field==e});if(0==n.length)throw"Cached option field value "+e+" not found in options array!";return n[0]},o.loadState=function(){var t=JSON.parse(localStorage.getItem(o.getID()));if(t){var e=o;t.forEach(function(t){if(t.values){e.add();var n=e.last(),o=e.getOptionByField(e.options,t.field);n.onSelect(o),t.values.forEach(function(t){n.addValue(),n.values[n.values.length-1]=t})}})}},o.removeLast=function(){o.removeLastItem(),o.callback(),0==o.length&&(o.applyButton=!1)},o.isFilterSelected=function(t){return o.some(function(e){return e.option&&e.option.field==t.field})},o.getResult=function(){var t=o,e={};o.forEach(function(n){if(n.option)return e[n.option.field]=n.values.map(function(t){return t}),e;t.config.errorCallback&&t.config.errorCallback({code:2,message:"Select option before getting result"})});return e},!t)throw"Options not passed to DynamicFilter constructor!";if(!n)throw"Callback not passed to DynamicFilter constructor!";return null==n.autoApply&&(n.autoApply=!0),o.config=n,o.config.saveState&&(o.loadState(),o.config.callback(o.getResult())),o}return _inherits(e,o.default),e}();n.Filters=i,window.DynamicFilter=i},{"./ExtendedArray":2,"./Filter":3}],5:[function(t,e,n){arguments[4][1][0].apply(n,arguments)},{dup:1}]},{},[1,2,3,4,5]);